# keenetic-avpn-helper
"Приложение для автоматического применения расширенных настроек (AmneziaWG) для VPN-подключений на роутерах Keenetic."


# AVPN.PRO Keenetic Helper
Приложение для автоматической настройки AmneziaWG VPN на роутерах Keenetic.

---

## Русский 🇷🇺

### Что делает это приложение?
Это приложение-помощник, которое автоматически применяет сложные технические настройки (параметры `asc` и безопасный DNS) для вашего нового VPN-подключения на роутерах Keenetic.

### Как использовать (Инструкция)

**Шаг 1: Подготовка роутера (вручную)**
1.  Убедитесь, что на вашем роутере установлена прошивка **KeeneticOS 4.2** или новее.
2.  Убедитесь, что установлены компоненты: **WireGuard VPN**, **Прокси-сервер DNS-over-TLS** и **DNS-over-HTTPS**.
3.  Загрузите ваш `.conf` файл в роутер через веб-интерфейс (`Интернет` -> `Другие подключения` -> `Загрузить из файла`).

**Шаг 2: Запуск приложения (автоматически)**
1.  Запустите это приложение (`AVPN_Configurator.exe`).
2.  Введите IP-адрес роутера, логин, пароль и укажите путь к тому же `.conf` файлу.
3.  Нажмите "Начать", и приложение автоматически применит все необходимые настройки.

**Шаг 3: Финальная активация и настройка политик (вручную)**
1.  **Включите подключение:** Зайдите в `Интернет` -> `Другие подключения`. Включите новое подключение с помощью переключателя.
2.  **Установите галочку "Для выхода в интернет":** Нажмите на имя подключения, поставьте галочку **"Использовать для выхода в интернет"** и сохраните.
3.  **Создайте политику:** Зайдите в `Интернет` -> `Приоритеты подключений`. Создайте новую политику доступа (например, "VPN").
4.  **Настройте политику:** В созданной политике "VPN" убедитесь, что галочка стоит **ТОЛЬКО** напротив вашего нового WireGuard-подключения.
5.  **Назначьте устройства:** Перейдите на вкладку "Применение политик" и перетащите ваши устройства в политику "VPN".

---

## English 🇬🇧

### What does this app do?
This is a helper application that automatically applies complex technical settings (`asc` parameters and secure DNS) for your new VPN connection on Keenetic routers.

### How to use (Instructions)

**Step 1: Prepare Your Router (Manual)**
1.  Ensure your router is running **KeeneticOS 4.2** or newer.
2.  Ensure the following components are installed: **WireGuard VPN**, **DNS-over-TLS proxy server**, and **DNS-over-HTTPS proxy server**.
3.  Upload your `.conf` file to the router via the web interface (`Internet` -> `Other connections` -> `Upload from file`).

**Step 2: Run the Application (Automatic)**
1.  Launch this application (`AVPN_Configurator.exe`).
2.  Enter your router's IP address, username, password, and select the same `.conf` file.
3.  Click "Start," and the application will automatically apply all necessary settings.

**Step 3: Final Activation and Policy Setup (Manual)**
1.  **Enable Connection:** Go to `Internet` -> `Other connections`. Enable the new connection with the toggle switch.
2.  **Set "For Internet Access":** Click on the connection name, check the box **"Use for Internet access,"** and save.
3.  **Create Policy:** Go to `Internet` -> `Connection priorities`. Create a new access policy (e.g., "VPN").
4.  **Configure Policy:** In the new "VPN" policy, ensure that **ONLY** your new WireGuard connection is checked.
5.  **Assign Devices:** Switch to the "Policy application" tab and drag your devices into the "VPN" policy.

---

## العربية 🇸🇦

### ماذا يفعل هذا التطبيق؟
هذا تطبيق مساعد يقوم تلقائيًا بتطبيق الإعدادات التقنية المعقدة (معلمات `asc` و DNS الآمن) لاتصال VPN الجديد الخاص بك على أجهزة توجيه Keenetic.

### كيفية الاستخدام (التعليمات)

**الخطوة 1: تحضير جهاز التوجيه (يدويًا)**
1.  تأكد من أن جهاز التوجيه الخاص بك يعمل بنظام **KeeneticOS 4.2** أو أحدث.
2.  تأكد من تثبيت المكونات التالية: **WireGuard VPN**، **خادم وكيل DNS-over-TLS**، و **خادم وكيل DNS-over-HTTPS**.
3.  قم بتحميل ملف `.conf` الخاص بك إلى جهاز التوجيه عبر واجهة الويب (`الإنترنت` -> `اتصالات أخرى` -> `تحميل من ملف`).

**الخطوة 2: تشغيل التطبيق (تلقائيًا)**
1.  قم بتشغيل هذا التطبيق (`AVPN_Configurator.exe`).
2.  أدخل عنوان IP لجهاز التوجيه واسم المستخدم وكلمة المرور وحدد نفس ملف `.conf`.
3.  انقر على "بدء"، وسيقوم التطبيق تلقائيًا بتطبيق جميع الإعدادات اللازمة.

**الخطوة 3: التفعيل النهائي وإعداد السياسة (يدويًا)**
1.  **تمكين الاتصال:** اذهب إلى `الإنترنت` -> `اتصالات أخرى`. قم بتمكين الاتصال الجديد باستخدام مفتاح التبديل.
2.  **تعيين "للوصول إلى الإنترنت":** انقر على اسم الاتصال، وحدد مربع **"استخدام للوصول إلى الإنترنت"**، ثم احفظ.
3.  **إنشاء سياسة:** اذهب إلى `الإنترنت` -> `أولويات الاتصال`. قم بإنشاء سياسة وصول جديدة (مثلاً، "VPN").
4.  **تكوين السياسة:** في سياسة "VPN" الجديدة، تأكد من تحديد اتصال WireGuard الجديد الخاص بك **فقط**.
5.  **تعيين الأجهزة:** انتقل إلى علامة التبويب "تطبيق السياسة" واسحب أجهزتك إلى سياسة "VPN".

---

## فارسی 🇮🇷

### این برنامه چه کاری انجام می‌دهد؟
این یک برنامه کمکی است که به طور خودکار تنظیمات فنی پیچیده (پارامترهای `asc` و DNS امن) را برای اتصال VPN جدید شما بر روی روترهای Keenetic اعمال می‌کند.

### نحوه استفاده (دستورالعمل)

**مرحله ۱: آماده‌سازی روتر (دستی)**
1.  اطمینان حاصل کنید که روتر شما از سیستم عامل **KeeneticOS 4.2** یا جدیدتر استفاده می‌کند.
2.  اطمینان حاصل کنید که کامپوننت‌های زیر نصب شده باشند: **WireGuard VPN**، **پراکسی سرور DNS-over-TLS** و **پراکسی سرور DNS-over-HTTPS**.
3.  فایل `.conf` خود را از طریق رابط وب به روتر آپلود کنید (`اینترنت` -> `اتصالات دیگر` -> `آپلود از فایل`).

**مرحله ۲: اجرای برنامه (خودکار)**
1.  این برنامه (`AVPN_Configurator.exe`) را اجرا کنید.
2.  آدرس IP روتر، نام کاربری، رمز عبور را وارد کرده و همان فایل `.conf` را انتخاب کنید.
3.  بر روی "شروع" کلیک کنید تا برنامه به طور خودکار تمام تنظیمات لازم را اعمال کند.

**مرحله ۳: فعال‌سازی نهایی و تنظیم سیاست (دستی)**
1.  **فعال کردن اتصال:** به `اینترنت` -> `اتصالات دیگر` بروید. اتصال جدید را با استفاده از کلید ضامن فعال کنید.
2.  **تنظیم "برای دسترسی به اینترنت":** بر روی نام اتصال کلیک کنید، کادر **"استفاده برای دسترسی به اینترنت"** را علامت بزنید و ذخیره کنید.
3.  **ایجاد سیاست:** به `اینترنت` -> `اولویت‌های اتصال` بروید. یک سیاست دسترسی جدید ایجاد کنید (مثلاً "VPN").
4.  **پیکربندی سیاست:** در سیاست جدید "VPN"، اطمینان حاصل کنید که **فقط** اتصال WireGuard جدید شما علامت زده شده است.
5.  **تخصیص دستگاه‌ها:** به تب "اعمال سیاست" بروید و دستگاه‌های خود را به سیاست "VPN" بکشید.
